# tcp-socket连接过程中异常问题定位  

### tcp连接中出现RST报文的情况   

RST报文 - 复位(断开)响应的TCP连接，不需要答复此报文  

1. 客户端尝试连接服务器一个不存在监听(未打开或已经关闭)的tcp端口，服务器端会直接返回RST报文  

2. 发送报文请求响应报文超时，发送RST报文  
> 一端发送FIN结束报文，获得另一端的ACK确认报文，等待另一个发送FIN报文超时，直接发送RST报文结束连接  

3. 通讯异常和数据交互异常发送RST报文提前关闭连接  
> 客户端发送100字节的数据，服务器只读出90个数据，这种上层逻辑处理异常问题  

4. 遇到RST报文无需响应，将socket文件描述符关闭断开连接，若不关闭再次往这个socket写数据，则会报Broken pipe异常  

### tcp连接中出现dup ack报文的情况  

