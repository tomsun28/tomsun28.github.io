---
layout: post
title: jvm restful api auth
date: 2020-11-21
tag: java
---

## restful api 权限设计   

  网上有很多权限设计的文章，很多上都是在说操作权限，比如什么角色能点这个按钮，能看到这个页面，对于我们现在普遍前后端分离的系统，可能有点脱离实际了。对于前后台分离的系统，或者专注于提供api服务的系统，按钮，页面这类的显示不显示，是前端的权限管理责任划分，但仅仅前端的权限管理是不够的肯定也是不安全的，我们更要考虑到保护我们后端提供的api的认证鉴权。  
  所以今天来谈谈如果保护好我们后端提供的restful api，需求两点:首先认证 -- 对于有些api我们需要用户认证通过后才能调用，还有就是鉴权 -- 管理哪些api用户能调用哪些不能调用。  

### 认证  

  主流的认证方式有 token - jwt, basic auth, digest auth等，用户携带认证信息访问restful api，后端会有个前置过滤拦截器(filter,interceptor,aop都可以实现)来拦截请求，获取请求信息里的认证信息，通过算法校验或者和系统内用户数据源(可以来自数据库，文本等)对比判断，校验通过才会让用户请求继续下去。  
  这是个大概的认证流程，还有很多细节需要考虑到，比如有些api不需要认证也要被访问，数据源的设计是怎么样的，用户携带多种认证信息怎么判断等。

### 鉴权  

  






